package com.example.demo.controller;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.RequestMapping;

import com.example.demo.bean.NewUser;
import com.example.demo.service.NewUserService;

import ch.qos.logback.core.model.Model;
@Controller
public class HelloController {
	@Autowired
	NewUserService nuService;
	public HelloController() {
	
		
	}
	@RequestMapping("/index")
	public String showIndexPage() {
		System.out.println("Inside showIndexPage");
		return "index";
	}
	@RequestMapping("/newUser")
	public String newUserpage() {
		System.out.println("Inside New User");
	
		return "newUser";
	}
	
	@RequestMapping("/addUser")
	public String addNewUser(@ModelAttribute NewUser nu) {
		System.out.println("Inside add User");
		System.out.println("From JSP "+nu);
		nuService.addNewUser(nu);
		return "";
	}
	@RequestMapping("/login")
	public String LoginPage() {
		System.out.println("Inside LoginPage");
		return "login";
	}
	@RequestMapping("/changepass")
	public String ChangePassPage() {
		System.out.println("Inside ChangePassPage");
		return "changepass";
	}
	@RequestMapping("/displayAllData")
	public String DisplayAll(Model m) {
		System.out.println("Inside displayAll");
		
		List<NewUser> listN = nuService.displayAll();
		m.addAllAttributes("data",listN);
		return "displayAll";
	}

}
